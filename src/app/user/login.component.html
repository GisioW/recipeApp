<div *ngIf="errorMessage" class="alert alert-danger mb-2">
  Info erreur: {{errorMessage}}
</div>
<div class="card justify-content-center">
  <div class="card-header text-center text-white bg-dark">
    {{pageTitle}}
  </div>
  <div class="card-body">
    <form novalidate
          #loginForm="ngForm"
          (ngSubmit)="login(loginForm)" autocomplete="on">
      <fieldset>
        <div class="form-group row">
          <label class="col-md-2 col-form-label" for="login">
            Nom d'utilisateur:
          </label>
          <div class="col-md-8">
            <input class="form-control"
                   id="login"
                   required
                   type="text"
                   ngModel
                   name="login"
                   #loginVar="ngModel"
                   [ngClass]="{'is-invalid': (loginVar.touched || loginVar.dirty) && !loginVar.valid}"
            />
            <span class="invalid-feedback">
              <span *ngIf="loginVar.errors?.required">
                Le nom d'utilisateur est obligatoire
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-md-2 col-form-label" for="password">
            Mot de passe:
          </label>
          <div class="col-md-8">
            <input class="form-control"
                   id="password"
                   required
                   type="password"
                   ngModel
                   name="password"
                   #passwordVar="ngModel"
                   [ngClass]="{'is-invalid': (passwordVar.touched || passwordVar.dirty) && !passwordVar.valid}"
            />
            <span class="invalid-feedback">
              <span *ngIf="passwordVar.errors?.required">
                Le mot de passe est obligatoire
              </span>
            </span>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 offset-md-2">
            <button class="btn btn-primary mr-3" type="submit" style="width: 150px" [disabled]="!loginForm.valid"> Se connecter</button>
            <button class="btn btn-outline-secondary" type="button" style="width: 120px" [routerLink]="['/welcome']">Annuler</button>
          </div>
        </div>

      </fieldset>
    </form>
  </div>
</div>
